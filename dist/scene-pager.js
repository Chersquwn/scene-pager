!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.ScenePager=i():t.ScenePager=i()}(this,function(){return function(t){function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}var e={};return i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="",i(i.s=0)}([function(t,i,e){"use strict";function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}(),o={ease:function(t){return Math.sqrt(1-Math.pow(t-1,2))}},r=function(){function t(i){var e=i.touchEl,s=i.moveEl,r=i.items,h=i.speed,a=void 0===h?400:h,u=i.bounce,c=void 0!==u&&u,d=i.loop,l=void 0!==d&&d,v=i.autorun,f=void 0!==v&&v,p=i.duration,x=void 0===p?5e3:p,m=i.easing,y=void 0===m?"ease":m,g=i.direction,b=void 0===g?"horizontal":g,P=i.touchStart,E=void 0===P?function(){}:P,k=i.touchMove,M=void 0===k?function(){}:k,S=i.touchEnd,w=void 0===S?function(){}:S,I=i.animationStart,j=void 0===I?function(){this.animating=!0}:I,T=i.animationEnd,q=void 0===T?function(){this.animating=!1}:T;n(this,t),this.touchEl=document.querySelector(e),this.moveEl=document.querySelector(s),this.items=document.querySelectorAll(r),this.speed=a,this.bounce=c,this.loop=l,this.autorun=f,this.duration=x,this.easing="function"==typeof y?y:o[y],this.direction="horizontal"===b,this.touchStart=E,this.touchMove=M,this.touchEnd=w,this.animationStart=j,this.animationEnd=q,this.currentPos=0,this.index=0,this.prevIndex=0,this.length=this.items.length,this.animating=!1,this.running=!1,this.event={},this.raf=null,this.interval=null;var F=this.touchEl.getBoundingClientRect();this.rectValue=this.direction?F.right-F.left:F.bottom-F.top,this.touchEl.addEventListener("touchstart",this.start.bind(this)),this.touchEl.addEventListener("touchmove",this.move.bind(this)),this.touchEl.addEventListener("touchend",this.end.bind(this)),this.autorun&&this.run()}return s(t,[{key:"start",value:function(t){var i=t.touches[0];this.x1=this.x2=i.pageX,this.y1=this.y2=i.pageY,this.isFirstMove=!0,this.stop(),t.startX=this.x1,t.startY=this.y1,t.index=this.index,this.touchStart(t)}},{key:"move",value:function(t){var i=t.touches[0],e=i.pageX,n=i.pageY;if(this.isFirstMove){var s=Math.abs(this.x1-e)-Math.abs(this.y1-n);s>0&&this.direction||s<0&&!this.direction?this.locked=!0:this.locked=!1,this.isFirstMove=!1}if(this.locked){t.preventDefault();var o=e-this.x2,r=n-this.y2,h=this.direction?o:r;this.loop||(this.currentPos>=0&&h>0||this.currentPos<=-(this.length-1)*this.rectValue&&h<0)&&(this.bounce?h*=.2:h=0),this.currentPos+=h,this.x2=e,this.y2=n,t.startX=this.x1,t.startY=this.y1,t.x=this.x2,t.y=this.y2,t.index=this.index,t.prevIndex=this.prevIndex,t.currentPos=this.currentPos,this.translateTo(this.currentPos),this.touchMove(t)}}},{key:"end",value:function(t){if(this.locked){var i=this.x2-this.x1,e=this.y2-this.y1,n=.3*this.rectValue,s=this.direction?i:e,o=this.index;this.loop?s>=n?o=this.index-1:s<=-n&&(o=this.index+1):this.currentPos<0&&this.currentPos>-(this.length-1)*this.rectValue&&(s>=n?o=this.index-1:s<=-n&&(o=this.index+1)),t.x=this.x2,t.y=this.y2,t.index=o,this.touchEnd(t),this.to(o)}}},{key:"translateTo",value:function(t){this.moveEl.style.transform=this.moveEl.style.webkitTransform=this.direction?"translate3d("+t+"px, 0, 0)":"translate3d(0, "+t+"px, 0)"}},{key:"to",value:function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=this,n=Date.now(),s=(this.index,-t*this.rectValue),o=this.currentPos,r=s-o;this.animating=!0,this.event.prevIndex=this.prevIndex=this.index,this.event.index=this.index=t,i?(this.animationStart(this.event),function t(){var i=Date.now()-n;if(i>=e.speed)return e.event.index!==e.event.prevIndex&&e.animationEnd(e.event),e.animating=!1,void(e.autorun&&!e.running&&e.run());e.currentPos=r*e.easing(i/e.speed)+o,Math.abs(i-e.speed)<20&&(e.currentPos=s),e.translateTo(e.currentPos),e.raf=requestAnimationFrame(t)}()):(e.currentPos=s,e.translateTo(e.currentPos))}},{key:"stop",value:function(){clearInterval(this.interval),cancelAnimationFrame(this.raf),this.running=!1}},{key:"run",value:function(){var t=this;this.running=!0,this.interval=setInterval(function(){t.to((t.index+1)%t.length)},this.duration)}}]),t}();i.default=r}])});